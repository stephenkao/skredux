@import "settings";

@import "fonts";

* {
        box-sizing: border-box;
}

$border-length: 10px;

// Bagua dimensions
$num-sides: 8;
$diameter--outer: 600px;
$diameter--inner: 350px;
$theta: 360 / $num-sides;

// Trigram dimensions
$trigram-width: $diameter--outer / 4; // @TODO: Arbitrary
$icon-width--bagua: $trigram-width / 2;
$icon-width--featured: $trigram-width / 2;

$trigram-line-height: 1px;
$trigram-margin-bottom: 10 * $trigram-line-height;
$trigram-height: 4 * ($trigram-line-height + $trigram-margin-bottom) + $icon-width--bagua;
$trigram-delta: $diameter--inner - $trigram-height;

.trigram {
        text-align: center;

        &.active .icon {
                transform: translateY(-130px) scale(3);
        }
}

.trigram__line {
        height: $trigram-line-height;
        margin: 0 auto;
        margin-bottom: $trigram-margin-bottom;

        position: relative;
        z-index: 10;

        @for $i from 1 through 3 {
                &:nth-of-type(#{$i}) {
                        width: (30% * $i);
                }
        }

        &:before,
        &:after {
                width: 50%;
                height: $trigram-line-height;

                position: absolute;
                z-index: 15;

                transition: width 200ms;
                background-color: black;
                content: "";
        }

        &:before {
                left: 0;
        }

        &:after {
                right: 0;
        }
}

.trigram__line--yin {
        &:before,
        &:after {
                width: 40%;
        }
}

.baguajing__outer,
.baguajing__inner {
        border: $border-length solid black;

        border-radius: 50%;
}

.baguajing {
        width: $diameter--outer;
        height: $diameter--outer;
        margin: 0 auto;

        position: relative;

        transition: transform 200ms;

        .trigram {
                width: $trigram-width;
                height: $trigram-height;
                margin-left: -$trigram-width / 2;
                margin-top: -$trigram-height / 2;

                position: absolute;
                left: 50%;
                top: 50%;
        }

        @for $i from 1 through $num-sides {
                $deg: ($i - 1) * $theta;

                &.spun--#{$i} {
                        transform: rotate(-#{$deg}deg);
                }

                .trigram:nth-child(#{$i}) {
                        transform: rotate(#{$deg}deg) translate3d(0, #{$trigram-delta}, 0);
        	    }
        }

        .icon {
                width: $icon-width--bagua;
                height: $icon-width--bagua;

                font-size: $icon-width--bagua;
                color: black;
        }
}

.baguajing__outer {
        width: $diameter--outer;
        height: $diameter--outer;

        position: relative;
}

.baguajing__inner {
        width: $diameter--inner;
        height: $diameter--inner;
        margin-left: -$diameter--inner / 2;
        margin-top: -$diameter--inner / 2;

        position: absolute;
        left: 50%;
        top: 50%;
}
