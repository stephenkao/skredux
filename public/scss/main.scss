@import "lib/gumby/gumby";
@import "compass";
@import "compass/css3/transition";

@import "settings";

@import "fonts";

$border-length: 10px;
$trigram-line-height: 1px;
$trigram-margin-bottom: 10 * $trigram-line-height;
$trigram-height: 3 * ($trigram-line-height + $trigram-margin-bottom);

.trigram__line {
        height: $trigram-line-height;
        margin: 0 auto;
        margin-bottom: $trigram-margin-bottom;

        position: relative;
        z-index: 10;

        @for $i from 1 through 3 {
                &:nth-child(#{$i}) {
                        width: (34% * $i);
                }
        }

        &:before,
        &:after {
                @include transition(width 200ms);

                width: 50%;
                height: $trigram-line-height;

                position: absolute;
                z-index: 15;

                background-color: $black;
                content: "";
        }

        &:before {
                left: 0;
        }

        &:after {
                right: 0;
        }
}

.trigram__line--yin {
        &:before,
        &:after {
                width: 40%;
        }
}

.baguajing {
        $num-sides: 8;
        $theta: 360 / $num-sides;
        $baguajing-diameter: 500px;

        $trigram-width: $baguajing-diameter / 5; // @TODO: Arbitrary
        $trigram-delta: $baguajing-diameter/ 2; // @TODO: Arbitrary

        width: $baguajing-diameter;
        height: $baguajing-diameter;
        margin: 0 auto;

        position: relative;

        .trigram {
                width: $trigram-width;
                margin-left: -$trigram-width / 2;
                margin-top: - $trigram-height / 2;

                position: absolute;
                left: 50%;
                top: 50%;
        }

        @for $i from 1 through $num-sides {
                $deg: ($i - 1) * $theta;

                .trigram:nth-child(#{$i}) {

                        @include transform(rotate(#{$deg}deg) translate3d(0, #{$trigram-delta}, 0));
        	}
        }
}